{% extends "layouts/merchant_base.html" %}

{% block title %}经营统计 - 商户后台{% endblock %}

{% block sidebar %}
    <a class="nav-link" href="/merchant/index">
        <i class="fas fa-tachometer-alt"></i> 控制台
    </a>
    <a class="nav-link" href="/merchant/orders">
        <i class="fas fa-shopping-bag"></i> 订单管理
    </a>
    <a class="nav-link" href="/merchant/dishes">
        <i class="fas fa-utensils"></i> 菜品管理
    </a>
    <a class="nav-link active" href="/merchant/statistics">
        <i class="fas fa-chart-bar"></i> 经营统计
    </a>
    <a class="nav-link" href="/merchant/settings">
        <i class="fas fa-cog"></i> 商铺设置
    </a>
{% endblock %}

{% block header %}经营统计{% endblock %}

{% block username %}{{ merchant_info.name|default('商户用户') }}{% endblock %}

{% block avatar %}{{ merchant_info.logo|default('/static/uploads/merchant/default.svg') }}{% endblock %}

{% block content %}
<div class="row mb-4">
    <div class="col-md-6">
        <div class="card">
            <div class="card-header">
                <h5>销售趋势图</h5>
            </div>
            <div class="card-body">
                <div style="height: 300px; display: flex; align-items: center; justify-content: center;">
                    <div class="text-muted">暂无销售数据</div>
                </div>
            </div>
        </div>
    </div>
    <div class="col-md-6">
        <div class="card">
            <div class="card-header">
                <h5>热门菜品排行</h5>
            </div>
            <div class="card-body">
                <div class="list-group">
                    <div class="list-group-item d-flex justify-content-between align-items-center">
                        <span class="text-muted">暂无菜品数据</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="card">
    <div class="card-header d-flex justify-content-between align-items-center">
        <h5>销售数据统计</h5>
        <select id="statisticsRange" class="form-control form-control-sm w-25">
            <option value="7">近7天</option>
            <option value="30">近30天</option>
            <option value="90">近90天</option>
        </select>
    </div>
    <div class="card-body">
        <div class="row mb-4">
            <div class="col-md-3">
                <div class="stat-card bg-primary">
                    <i class="fas fa-yen-sign float-end"></i>
                    <div class="stat-label">总销售额</div>
                    <h3 id="totalSales">¥0.00</h3>
                </div>
            </div>
            <div class="col-md-3">
                <div class="stat-card bg-success">
                    <i class="fas fa-clipboard-list float-end"></i>
                    <div class="stat-label">总订单数</div>
                    <h3 id="totalOrders">0</h3>
                </div>
            </div>
            <div class="col-md-3">
                <div class="stat-card bg-warning">
                    <i class="fas fa-shopping-cart float-end"></i>
                    <div class="stat-label">平均订单金额</div>
                    <h3 id="avgOrderAmount">¥0.00</h3>
                </div>
            </div>
            <div class="col-md-3">
                <div class="stat-card bg-info">
                    <i class="fas fa-utensils float-end"></i>
                    <div class="stat-label">售出菜品数</div>
                    <h3 id="totalDishesSold">0</h3>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
// 模拟加载统计数据
window.onload = function() {
    // 实际应用中应该通过API获取统计数据
    console.log('经营统计页面已加载');
};
</script>
{% endblock %}